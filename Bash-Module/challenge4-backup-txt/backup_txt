#!/bin/bash

# Prompt the user for the source directory
read -p "Enter source directory: " source_dir

# Check if source directory exists
if [[ ! -d "$source_dir" ]]; then
    echo "âœ— Source directory does not exist."
    exit 1
fi

# Create the backup directory name with timestamp
timestamp=$(date +"%Y-%m-%d_%H-%M")
backup_dir="backup_${timestamp}"

# Create backup directory
mkdir -p "$backup_dir"
echo "Backup directory created: $backup_dir"

echo "Copying .txt files..."

# Copy .txt files and count them
file_count=0
for file in "$source_dir"/*.txt; do
    if [[ -f "$file" ]]; then
        cp "$file" "$backup_dir/"
        ((file_count++))
    fi
done

echo
echo "Backup complete!"
echo "Files backed up: $file_count"
